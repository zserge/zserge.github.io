<!doctype html><html lang=en><head><meta charset=utf-8><title>On Music Tabs</title><meta name=description content="Random thoughts about plain text music notation, tablatures, amateur musicians and pocket zines. Vaguely related to programming, too."><meta name=author content="Serge Zaitsev"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" href=data:,><link rel="shortcut icon" sizes=32x32 href=/favicon.png><link rel="shortcut icon" sizes=192x192 href=/favicon-192x192.png><link rel=apple-touch-icon href=/favicon-192x192.png><link rel=alternate type=application/rss+xml title=RSS href=/rss.xml><link rel=canonical href=https://zserge.com/posts/tab/><meta property="og:title" content="On Music Tabs"><meta property="og:type" content="article"><meta property="og:url" content="https://zserge.com/posts/tab/"><meta property="og:image" content="https://zserge.com/logo.png"><meta property="og:description" content="Random thoughts about plain text music notation, tablatures, amateur musicians and pocket zines. Vaguely related to programming, too."><meta property="og:locale" content="en_US"><meta name=twitter:card content="Random thoughts about plain text music notation, tablatures, amateur musicians and pocket zines. Vaguely related to programming, too."><meta name=twitter:site content="@zsergo"><style type=text/css>body{padding:1rem;margin:auto;max-width:46rem;font-family:pt serif,Georgia,Cambria,times new roman,Times,serif;line-height:1.5;font-size:20px;color:rgba(0,0,0,.87);-webkit-font-smoothing:antialiased;font-weight:300}nav{display:flex;justify-content:space-between;align-items:center;margin:1em 0 3em}nav ul,nav li{display:inline-block;list-style:none;margin:0 0 0 .5rem;padding:0}nav ul{margin-right:1rem}.logo{background-color:rgba(0,0,0,.87);color:#fff;min-width:48px;min-height:48px;font-size:28px;border-radius:2px;display:flex;justify-content:center;align-items:center}.logo:hover{color:#fff}h1,h2{line-height:1.2;font-family:roboto,system-ui,segoe ui,Helvetica,Arial,sans-serif;font-weight:400;text-transform:uppercase;margin:1.34em 0 0}h1{font-size:1.95em}h2{font-size:1.25em;border-bottom:2px solid rgba(0,0,0,.87)}h1 a{color:rgba(0,0,0,.87)}p{margin:.67em 0 1em}a{color:#0076df;text-decoration:none;word-break:break-word}a:hover{color:rgba(0,0,0,.87)}ul,ol{list-style-position:outside;margin-left:1em}img{display:block;margin-left:auto;margin-right:auto;max-width:100%}pre,code{font-family:roboto mono,SFMono-Regular,Consolas,liberation mono,Menlo,monospace;font-weight:400;font-size:18px;color:rgba(0,0,0,.6);background:#eee}code{padding:.2rem .4rem;font-size:14px;border-radius:2px}pre{overflow-y:auto;line-height:20px;border-radius:2px;padding:1em}pre code{font-size:14px;padding:0;color:rgba(0,0,0,.87)}footer{font-size:12px}@media(prefers-color-scheme:dark){.logo{color:#444;background-color:#e4e4e4}.logo:hover{color:#444}body,h1 a,h2 a{background-color:#444;color:#e4e4e4}pre,pre code{background:#333;color:#e4e4e4}h2{border-bottom:1px solid #e4e4e4}code{color:#aaa;background:#333}a{color:#e39777}a:hover{color:#e4e4e4}img{filter:grayscale(30%)}}.hl{display:block;width:100%;background-color:#ffc}.ow,.gh,.gp,.gs,.gu,.nt,.nn,.ne,.ni,.nc,.kr,.kn,.kd,.kc,.k{font-weight:700}.c,.ch,.cm,.c1,.cs,.ge{color:#777}</style><link rel="shortcut icon" href=/favicon.ico></head><body><header><nav><a class=logo href=/>Z</a><ul><li><a href=/about/>about</a></li><li><a href=/posts/>posts</a></li><li><a href=https://mastodon.social/@zserge rel=me>@me</a></li><li><a href=https://github.com/zserge rel=me>&lt;/>me</a></li></ul></nav></header><div id=content><h1>On Music Tabs</h1><p>I love music. I love playing music. I love making musical instruments and music software. I don&rsquo;t have formal musical training. I’ve never taken lessons, and honestly, I’m a pretty bad musician. What I do excel at, though, is hoarding musical instruments.</p><p>At this point, name any instrument, and there’s a decent chance I have it somewhere in my room. Some of these instruments never played anything better than &ldquo;Twinkle, Twinkle Little Star&rdquo;, others featured in a recording or two, and only a few see regular play. Most, however, gather dust.</p><p>Why? Because I&rsquo;m bad at music notation and I can&rsquo;t memorise notes or chords of any song. I can read sheet music, but not fast enough to make it useful. However, when you start with a new instrument that requires you to learn fingerings, and I find it enormously difficult to have this translation pipeline in my brain: read sheet music, parse visually the notes, map them to some fingering chart, cover holes or press strings or move lips or perform some other physical action to the instrument.</p><h2 id=in-defense-of-tabs>In defense of tabs</h2><p>That is why I love <a href=https://en.wikipedia.org/wiki/Tablature>tablatures</a>. I love <a href=https://abcnotation.com/>ABC</a> notation and <a href=https://en.wikipedia.org/wiki/Numbered_musical_notation>Jianpu</a> notation. Because there is already a trained part of my brain that can translate incoming bitmaps into meaningful tokens: I can read letters and digits.</p><p>Fortunately, for almost every instrument there is a plain text notation that tells uneducated musicians directly what to do. For guitars, ukuleles, mandolinas we have chords and we have text tabs that are read left-to-right, top-to-bottom and tell you which string on which fret to press. For harmonica the numbers show which hole to blow or to draw. For flutes they tell you which holes to cover. Even kids instruments like glockenspiel/xylophone or kalimba often have numbers on them that match with the melody the child is playing.</p><p>Tabs turn you into a simple machine: scan the instructions, apply the motions &ndash; and music happens! Yes, they strip away the nuance of rhythm or dynamics, but for beginners, that&rsquo;s fine. Most people starting an instrument play songs they already know well enough to hum from memory, so rhythm and expression come naturally.</p><p>I know that professional musicians dislike tabs a lot and in every music community there are people replying &ldquo;just learn how to read musical notation&rdquo;. That&rsquo;s fair. You probably shouldn&rsquo;t use MicroPython or Arduino for embedded development and should just learn proper C. Then, you also shouldn&rsquo;t use C and should rather learn safer languages. You probably shouldn&rsquo;t use Scratch for building games and robots, but instead learn Python or any other <em>real</em> programming language.</p><p>And this is where fun and professionalism differ. I&rsquo;m not a professional musician and merely want to have fun, with tabs helping me.</p><h2 id=my-tab-script>My tab script</h2><p>Many years ago, in my school days, I was learning how to play harmonica. The trick is that harmonicas have a limited range of notes. Some are easy, others require difficult techniques like bending, and a few are nearly impossible on cheaper instruments.</p><p>When trying to pick out melodies by ear, I found myself wondering: what if I could transpose these melodies into keys that are easier to play? That’s when I wrote my little tab script.</p><p>The idea was simple:</p><ul><li>Convert melodies from ABC notation (or similar) into numerical note representations (C=0, D=2, E=4, F=5, &mldr;).</li><li>Map these numbers to harmonica tabs.</li><li>Optionally, transpose the melodies into easier or more comfortable keys.</li></ul><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=kn>import</span> <span class=nn>re</span><span class=o>,</span> <span class=nn>sys</span>
<span class=n>ABC</span> <span class=o>=</span> <span class=s2>&#34;C C# D D# E F F# G G# A A# B c c# d d# e f f# g g# a a# b&#34;</span>
<span class=n>N</span> <span class=o>=</span> <span class=p>{</span><span class=n>n</span><span class=p>:</span> <span class=n>i</span> <span class=k>for</span> <span class=n>i</span><span class=p>,</span> <span class=n>n</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>ABC</span><span class=o>.</span><span class=n>split</span><span class=p>())}</span>
<span class=k>print</span><span class=p>([</span><span class=n>N</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>t</span><span class=p>,</span> <span class=n>t</span><span class=p>)</span> <span class=k>for</span> <span class=n>t</span> <span class=ow>in</span> <span class=n>re</span><span class=o>.</span><span class=n>findall</span><span class=p>(</span><span class=sa>r</span><span class=s2>&#34;[A-Ga-g]#?|.&#34;</span><span class=p>,</span> <span class=n>sys</span><span class=o>.</span><span class=n>argv</span><span class=p>[</span><span class=mi>1</span><span class=p>])])</span>

<span class=c1># python3 tab.py &#34;CDEFGABcdefgab&#34;</span>
<span class=c1># [0, 2, 4, 5, 7, 9, 11, 12, 14, 16, 17, 19, 21, 23]</span>
</code></pre></div><p>Once I had note numbers, I created mappings for harmonica tabs:</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=k>def</span> <span class=nf>inst</span><span class=p>(</span><span class=n>s</span><span class=p>):</span> <span class=k>return</span> <span class=p>{</span><span class=n>i</span><span class=p>:</span> <span class=n>val</span> <span class=k>for</span> <span class=n>i</span><span class=p>,</span> <span class=n>val</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>s</span><span class=o>.</span><span class=n>split</span><span class=p>())}</span>
<span class=n>harmonica</span> <span class=o>=</span> <span class=n>inst</span><span class=p>(</span><span class=s2>&#34;+1 -1&#39; -1 +1&#39; +2 -2</span><span class=se>\&#34;</span><span class=s2> -2&#39; +3 -3‴ -3</span><span class=se>\&#34;</span><span class=s2> -3&#39; -3 +4 -4&#39; -4 +4&#39; +5 -5 +5&#39; +6 -6&#39; -6 +6&#39; -7 +7 -7&#39; -8 +8&#39; +8 -9 +9&#39; +9 -9&#39; -10 +10</span><span class=se>\&#34;</span><span class=s2> +10&#39; +10&#34;</span><span class=p>)</span>
<span class=n>n</span> <span class=o>=</span> <span class=p>[</span><span class=n>N</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>t</span><span class=p>,</span> <span class=n>t</span><span class=p>)</span> <span class=k>for</span> <span class=n>t</span> <span class=ow>in</span> <span class=n>re</span><span class=o>.</span><span class=n>findall</span><span class=p>(</span><span class=sa>r</span><span class=s2>&#34;[A-Ga-g]#?|.&#34;</span><span class=p>,</span> <span class=n>sys</span><span class=o>.</span><span class=n>argv</span><span class=p>[</span><span class=mi>1</span><span class=p>])]</span>
<span class=k>print</span><span class=p>(</span><span class=s2>&#34; &#34;</span><span class=o>.</span><span class=n>join</span><span class=p>([</span><span class=n>harmonica</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>t</span><span class=p>,</span> <span class=s1>&#39;?&#39;</span><span class=p>)</span> <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>t</span><span class=p>,</span> <span class=nb>int</span><span class=p>)</span> <span class=k>else</span> <span class=n>t</span> <span class=k>for</span> <span class=n>t</span> <span class=ow>in</span> <span class=n>n</span><span class=p>]))</span>

<span class=c1># python3 tab.py &#34;CDEFGABcdefgab&#34;</span>
<span class=c1># +1 -1 +2 -2&#34; +3 -3&#34; -3 +4 -4 +5 -5 +6 -6 -7</span>
</code></pre></div><p>With a few tweaks, the script could automatically find the best key for a melody by trying different transpositions and picking the one with the fewest difficult notes. This made harmonica playing much more accessible.</p><h2 id=other-instruments>Other instruments</h2><p>Years later, I picked up the <a href=https://en.wikipedia.org/wiki/Tin_whistle>tin whistle</a>, which has its own quirks:</p><ul><li>Some notes require tricky half-covering of holes.</li><li>High notes can sound shrill and unpleasant.</li></ul><p>Adding tin whistle tabs to my script was as simple as creating a new mapping:</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=ch>#!/usr/bin/env python3</span>
<span class=kn>import</span> <span class=nn>re</span><span class=o>,</span><span class=nn>sys</span>
<span class=n>ABC</span> <span class=o>=</span> <span class=s2>&#34;C C# D D# E F F# G G# A A# B c c# d d# e f f# g g# a a# b&#34;</span>
<span class=n>N</span> <span class=o>=</span> <span class=p>{</span><span class=n>n</span><span class=p>:</span> <span class=n>i</span> <span class=k>for</span> <span class=n>i</span><span class=p>,</span> <span class=n>n</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>ABC</span><span class=o>.</span><span class=n>split</span><span class=p>())}</span>
<span class=k>def</span> <span class=nf>inst</span><span class=p>(</span><span class=n>s</span><span class=p>):</span> <span class=k>return</span> <span class=p>{</span><span class=n>i</span><span class=p>:</span> <span class=n>val</span> <span class=k>for</span> <span class=n>i</span><span class=p>,</span> <span class=n>val</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>s</span><span class=o>.</span><span class=n>split</span><span class=p>())}</span>
<span class=n>I</span> <span class=o>=</span> <span class=p>{</span>
    <span class=s1>&#39;a&#39;</span><span class=p>:</span> <span class=n>inst</span><span class=p>(</span><span class=n>ABC</span><span class=p>),</span>
    <span class=s1>&#39;b&#39;</span><span class=p>:</span> <span class=n>inst</span><span class=p>(</span><span class=s2>&#34;0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25&#34;</span><span class=p>),</span>
    <span class=s1>&#39;c&#39;</span><span class=p>:</span> <span class=n>inst</span><span class=p>(</span><span class=s2>&#34;0 ~0 1 ~1 2 3 ~3 4 ~4 5 6 7 8 ~8 9 ~9 10 11&#34;</span><span class=p>),</span>
    <span class=s1>&#39;j&#39;</span><span class=p>:</span> <span class=n>inst</span><span class=p>(</span><span class=s2>&#34;1 #1 2 #2 3 4 #4 5 #5 6 #6 7 1&#39; #1&#39; 2&#39; #2&#39; 3&#39; 4&#39; #4&#39; 5&#39; #5&#39; 6&#39; #6&#39; 7&#39;&#34;</span><span class=p>),</span>
    <span class=s1>&#39;h&#39;</span><span class=p>:</span> <span class=n>inst</span><span class=p>(</span><span class=s2>&#34;+1 -1&#39; -1 +1&#39; +2 -2</span><span class=se>\&#34;</span><span class=s2> -2&#39; +3 -3‴ -3</span><span class=se>\&#34;</span><span class=s2> -3&#39; -3 +4 -4&#39; -4 +4&#39; +5 -5 +5&#39; +6 -6&#39; -6 +6&#39; -7 +7 -7&#39; -8 +8&#39; +8 -9 +9&#39; +9 -9&#39; -10 +10</span><span class=se>\&#34;</span><span class=s2> +10&#39; +10&#34;</span><span class=p>),</span>
    <span class=s1>&#39;H&#39;</span><span class=p>:</span> <span class=n>inst</span><span class=p>(</span><span class=s2>&#34;+1 &lt;+1 -1 &lt;-1 +2 -2 &lt;-2 +3 &lt;+3 -3 &lt;-3 -4 +5 &lt;+5 -5 &lt;-5 +6 -6 &lt;-6 +7 &lt;+7 -7 &lt;-7 -8 +9 &lt;+9 -9 &lt;-9 +10 -10 &lt;-10 +11 &lt;+11 -11 &lt;-11 -12&#34;</span><span class=p>),</span>
    <span class=s1>&#39;w&#39;</span><span class=p>:</span> <span class=n>inst</span><span class=p>(</span><span class=s2>&#34;6 ~6 5 ~5 4 3 ~3 2 (14) 1 (02) 0 (05) ~6+ 5+ ~5+ 4+ 3+ (22+) 2+ (11+) 1+ (013+) 0+ (05)+&#34;</span><span class=p>),</span>
    <span class=s1>&#39;t&#39;</span><span class=p>:</span> <span class=n>inst</span><span class=p>(</span><span class=s2>&#34;_123 _13 _23 _12 _1 _2 _0 123 13 23 12 1 2 0 +23 +12 +1 +2 +0 *12 *1 *2 *0 ^1 ^2 ^0 !23 !12 !1 !2 !0&#34;</span><span class=p>),</span>
<span class=p>}</span>

<span class=n>n</span> <span class=o>=</span> <span class=p>[</span><span class=n>N</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>t</span><span class=p>,</span> <span class=n>t</span><span class=p>)</span> <span class=k>for</span> <span class=n>t</span> <span class=ow>in</span> <span class=n>re</span><span class=o>.</span><span class=n>findall</span><span class=p>(</span><span class=sa>r</span><span class=s2>&#34;[A-Ga-g]#?|.&#34;</span><span class=p>,</span> <span class=n>sys</span><span class=o>.</span><span class=n>argv</span><span class=p>[</span><span class=mi>2</span><span class=p>])]</span>
<span class=n>x</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>sys</span><span class=o>.</span><span class=n>argv</span><span class=p>[</span><span class=mi>3</span><span class=p>])</span> <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>sys</span><span class=o>.</span><span class=n>argv</span><span class=p>)</span> <span class=o>&gt;</span> <span class=mi>3</span> <span class=k>else</span> <span class=mi>0</span>
<span class=k>print</span><span class=p>(</span><span class=s2>&#34; &#34;</span><span class=o>.</span><span class=n>join</span><span class=p>([</span><span class=n>I</span><span class=p>[</span><span class=n>sys</span><span class=o>.</span><span class=n>argv</span><span class=p>[</span><span class=mi>1</span><span class=p>]]</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>t</span><span class=o>+</span><span class=n>x</span><span class=p>,</span> <span class=s1>&#39;?&#39;</span><span class=p>)</span> <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>t</span><span class=p>,</span> <span class=nb>int</span><span class=p>)</span> <span class=k>else</span> <span class=n>t</span> <span class=k>for</span> <span class=n>t</span> <span class=ow>in</span> <span class=n>n</span><span class=p>]))</span>
</code></pre></div><p>Here &lsquo;a&rsquo; is the same ABC notation I use as an input. That&rsquo;s what they teach here in primary schools and that&rsquo;s the notation I usually &ldquo;think&rdquo; in. &ldquo;B&rdquo; is a <a href=https://en.wikipedia.org/wiki/Diddley_bow>&ldquo;diddley bow&rdquo;</a>, or simply a guitar string with frets. &ldquo;C&rdquo; is a cute little instrument called <a href=https://www.cbgitty.com/brands/American-Canjo-Company.html>Canjo</a>, which I highly recommend building with kids! It lacks some frets and is almost diatonic (can play a major scale), so it also needs some careful transposition of the melodies. &ldquo;H&rdquo; and &ldquo;h&rdquo; are chromatic and diatonic harmonicas, &ldquo;w&rdquo; is a tin whistle and &ldquo;t&rdquo; is a trumpet.</p><p>I could have used more descriptive names and less cryptic notations, but being the only user of this script I got used to it.</p><p>I often use it in scripts to print my practice plans:</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash><span class=cp>#!/bin/sh
</span><span class=cp></span>cat <span class=s>&lt;&lt; EOF
</span><span class=s># Tin Whistle Practice
</span><span class=s>
</span><span class=s>## Saints Go Marching In
</span><span class=s>
</span><span class=s>$(tp w &#34;CEFG CEFG CEFGECED&#34;)
</span><span class=s>$(tp w &#34;EEDC CEGGF EFGECDC&#34;)
</span><span class=s>
</span><span class=s>## Bella Ciao
</span><span class=s>
</span><span class=s>$(tp w &#34;F#Bc#dB F#Bc#dB F#Bc#dc#Bdc#Bf#f#f# f#ef#gg gf#egf# f#edc#f#dc#B&#34; -2)
</span><span class=s>
</span><span class=s>## ...
</span><span class=s>EOF</span>
</code></pre></div><p>This script outputs some whistle tabs that are very terse: they usually fit one screen or a small piece of paper.</p><p>As a next step, I usually print tiny <a href=https://github.com/zserge/zine>&ldquo;zines&rdquo;</a> &ndash; little books of melodies or chords for instruments to memorise and practice. Here&rsquo;s an <a href=/zine/tinwhistle>example of one such zine for tin whistles</a> &ndash; it can be printed and folded as a tiny book, and easily fits into a wallet or a pocket next to your whistle:</p><p><img src=/images/tabs-whistle.jpeg alt="A &ldquo;zine&rdquo; of tin whistle tabs"></p><p>I don&rsquo;t think I could ever fit five melodies of staff musical notation into such a small format.</p><h2 id=unicode>Unicode</h2><p>Recently I decided to make a step forward and convert this little script of mine into something others could use. I&rsquo;ve made <a href=https://github.com/zserge/tab>https://github.com/zserge/tab</a> - a command-line tablature printer for many exotic music instruments.</p><p>Unlike this original script, <code>tab</code> outputs multiline unicode texts with colour and allows to visualise tabs much better:</p><p><img src=/images/tabs-cli.png alt="Tabs output"></p><p>With terminal graphics it&rsquo;s now possible to render tabs for <a href=https://en.wikipedia.org/wiki/Klavarskribo>Klavarscribo</a>, ocarinas or even saxophones. But the core functionality is still the same - you pick an instrument, optionally transpose the melody &ndash; and see the tabs on the screen, ready to be played.</p><h2 id=join-the-fun>Join the Fun</h2><p>I’m curious &ndash; are there other musicians out there who love tabs as much as I do? Whether you’re a harmonica enthusiast, tin whistle fan, or kalimba player, I’d love to hear your thoughts. And if you have favorite songs or practice lists, feel free to contribute to the repository examples! Let’s make music fun and accessible for everyone.</p><p>I hope you’ve enjoyed this article. You can follow – and contribute to – on <a href=https://github.com/zserge>Github</a>, <a href=https://mastodon.social/@zserge>Mastodon</a>, <a href=https://twitter.com/zsergo>Twitter</a> or subscribe via <a href=/rss.xml>rss</a>.</p><p class=date style=text-align:right><em>Nov 22, 2024</em></p><p>See also:
<a href=/posts/poetry/>On Poetry</a> and <a href=/posts/>more</a>.</p></div><footer><p>&copy;2012&ndash;2024 &#183;
<a class=h-card rel=me href=https://zserge.com/>Serge Zaitsev</a> &#183;
<a href=mailto:hello@zserge.com rel=me>hello@zserge.com</a> &#183;
<a href=https://mastodon.social/@zserge rel=me>@zserge@mastodon.social</a></p></footer><script>new Image().src='https://nullitics.com/file.gif?u='+encodeURI(location.href)+'&r='+encodeURI(document.referrer)+'&d='+screen.width</script><noscript><img src=https://nullitics.com/file.gif></noscript></body></html>